<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Rooms List</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
</head>
<body>
<h1>Room List</h1>
<table border="1">
    <tr>
        <th>no</th>
        <th>id</th>
        <th>name</th>
        <th>capacity</th>
        <th>equipments</th>
        <th>link</th>
    </tr>
    <tr th:each="room, iterationStatus : ${rooms}">
        <td th:text="${iterationStatus.count}">1</td>
        <td th:text="${room.roomId}">1</td>
        <td th:text="${room.roomName}">hoge</td>
        <td th:text="${room.capacity}">10</td>
        <td>
            <ul th:each="equipment, iterationStatus : ${room.equipments}">
                <li th:text="${equipment.equipmentName}"><a th:href="@{/equipments/{id}(id=${equipment.equipmentId})}">equipmentA</a></li>
            </ul>
        </td>
        <td><a th:href="@{/rooms/{id}(id=${room.roomId})}">Detail</a></td>
    </tr>
</table>

<h1>Create Room</h1>
<form th:action="@{/rooms}" th:object="${roomForm}" method="post">
    <ul>
        <li>
            <label th:for="${#ids.next('name')}">name</label>
            <p th:if="${#fields.hasErrors('name')}" th:errors="*{name}" />
            <input type="text" th:field="*{name}" />
        </li>
        <li>
            <label th:for="${#ids.next('capacity')}">capacity</label>
            <p th:if="${#fields.hasErrors('capacity')}" th:errors="*{capacity}" />
            <input type="text" th:field="*{capacity}" />
        </li>
    </ul>
    <input type="submit" />
</form>
<h1>JPA Mode</h1>
<p th:text="${jpaMode}" />
</body>
</html>